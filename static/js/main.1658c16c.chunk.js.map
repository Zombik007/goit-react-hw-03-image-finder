{"version":3,"sources":["components/Searchbar/Searchbar.module.css","components/Loader/Loader.module.css","components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Modal/Modal.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","services/apiService.js","components/Button/Button.js","components/Loader/Loader.js","components/ImageGallery/ImageGallery.js","App.js","index.js"],"names":["module","exports","lightboxRoot","document","querySelector","Lightbox","handleKeyDown","e","code","props","onClose","handleBackdropClick","currentTarget","target","window","addEventListener","this","removeEventListener","createPortal","className","styles","Lightbox__backdrop","onClick","Lightbox__content","children","Component","Searchbar","state","imageName","handleNameChange","setState","value","toLowerCase","handleSubmit","preventDefault","trim","onSubmit","toast","warning","position","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","SearchForm","type","SearchForm__button","SearchForm__button_label","SearchForm__input","autoComplete","autoFocus","placeholder","onChange","ImageGalleryItem","onImageClick","modalContent","dataset","url","alt","openModal","image","map","webformatURL","tags","id","largeImageURL","src","ImageGalleryItem__image","ImageApiService","searchQuery","page","searchParams","URLSearchParams","image_type","orientation","q","per_page","key","fetch","then","response","json","data","hits","newQuery","Button","Loader","loader__ellips","loader__ellips__dot","imageApiService","ImagesApiService","ImageGallery","images","error","status","loading","handleButtonClick","scrollTo","documentElement","scrollHeight","fetchImagesApi","prevState","top","behavior","finally","prevProps","query","length","catch","style","textAlign","fontSize","resetPage","App","showLightbox","modalUrl","modalAlt","toggleLightbox","handleFormSubmit","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"6IACAA,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,mBAAqB,sCAAsC,yBAA2B,4CAA4C,kBAAoB,uC,gBCA5PD,EAAOC,QAAU,CAAC,eAAiB,+BAA+B,oBAAsB,oCAAoC,OAAS,uBAAuB,MAAQ,wB,iBCApKD,EAAOC,QAAU,CAAC,mBAAqB,kCAAkC,kBAAoB,mC,gBCA7FD,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,wBAA0B,oD,iBCA1GD,EAAOC,QAAU,CAAC,aAAe,qC,gBCAjCD,EAAOC,QAAU,CAAC,OAAS,yB,mKCIrBC,EAAeC,SAASC,cAAc,kBAEvBC,E,4MASnBC,cAAgB,SAAAC,GACC,WAAXA,EAAEC,MACJ,EAAKC,MAAMC,W,EAIfC,oBAAsB,SAAAJ,GAChBA,EAAEK,gBAAkBL,EAAEM,QACxB,EAAKJ,MAAMC,W,uDAhBf,WACEI,OAAOC,iBAAiB,UAAWC,KAAKV,iB,kCAG1C,WACEQ,OAAOG,oBAAoB,UAAWD,KAAKV,iB,oBAe7C,WACE,OAAOY,uBACL,qBACEC,UAAWC,IAAOC,mBAClBC,QAASN,KAAKL,oBAFhB,SAIE,qBAAKQ,UAAWC,IAAOG,kBAAvB,SAA2CP,KAAKP,MAAMe,aAExDtB,O,GA7BgCuB,a,gBCHjBC,E,4MACnBC,MAAQ,CACNC,UAAW,I,EAGbC,iBAAmB,SAAAtB,GACjB,EAAKuB,SAAS,CAAEF,UAAWrB,EAAEK,cAAcmB,MAAMC,iB,EAGnDC,aAAe,SAAA1B,GACbA,EAAE2B,iBACkC,KAAhC,EAAKP,MAAMC,UAAUO,QAczB,EAAK1B,MAAM2B,SAAS,EAAKT,MAAMC,WAC/B,EAAKE,SAAS,CAAEF,UAAW,MAdzBS,IAAMC,QACJ,8EACA,CACEC,SAAU,aACVC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,K,4CASlB,WACE,OACE,wBAAQ1B,UAAWC,IAAOM,UAA1B,SACE,uBAAMP,UAAWC,IAAO0B,WAAYV,SAAUpB,KAAKiB,aAAnD,UACE,wBAAQc,KAAK,SAAS5B,UAAWC,IAAO4B,mBAAxC,SACE,sBAAM7B,UAAWC,IAAO6B,yBAAxB,sBAGF,uBACE9B,UAAWC,IAAO8B,kBAClBH,KAAK,OACLI,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZtB,MAAOf,KAAKW,MAAMC,UAClB0B,SAAUtC,KAAKa,4B,GA5CYJ,a,0CCDlB8B,E,4MACnBC,aAAe,SAAAjD,GACb,EAAKE,MAAMgD,aAAalD,EAAEM,OAAO6C,QAAQC,IAAKpD,EAAEM,OAAO+C,KACvD,EAAKnD,MAAMoD,a,4CAGb,WAAU,IAAD,OACP,OACE,mCACG7C,KAAKP,MAAMqD,MAAMC,KAAI,YAAgD,IAA7CC,EAA4C,EAA5CA,aAAcC,EAA8B,EAA9BA,KAAMC,EAAwB,EAAxBA,GAAIC,EAAoB,EAApBA,cAC/C,OACE,oBAAahD,UAAWC,IAAOmC,iBAA/B,SACE,qBACEa,IAAKJ,EACLJ,IAAKK,EACL9C,UAAWC,IAAOiD,wBAClB,WAAUF,EACV7C,QAAS,EAAKkC,gBANTU,Y,GAXyBzC,aCAzB6C,E,WACnB,aAAe,oBACbtD,KAAKuD,YAAc,GACnBvD,KAAKwD,KAAO,E,kDAGd,WAAkB,IAAD,OACTC,EAAe,IAAIC,gBAAgB,CACvCC,WAAY,QACZC,YAAa,aACbC,EAAG7D,KAAKuD,YACRC,KAAMxD,KAAKwD,KACXM,SAAU,KACVC,IAhBU,uCAmBNpB,EAAG,UAlBI,sBAkBJ,iBAAuBc,GAEhC,OAAOO,MAAMrB,GACVsB,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GAEJ,OADA,EAAKZ,MAAQ,EACNY,EAAKC,U,uBAIlB,WACErE,KAAKwD,KAAO,I,iBAGd,WACE,OAAOxD,KAAKuD,a,IAGd,SAAUe,GACRtE,KAAKuD,YAAce,M,sBC3BRC,EARA,SAAC,GAA2B,IAAzBjE,EAAwB,EAAxBA,QAASE,EAAe,EAAfA,SACzB,OACE,wBAAQuB,KAAK,SAAS5B,UAAWC,IAAOmE,OAAQjE,QAASA,EAAzD,SACGE,K,gBCQQgE,EAXA,WACb,OACE,sBAAKrE,UAAWC,IAAOqE,eAAvB,UACE,sBAAMtE,UAAWC,IAAOsE,sBACxB,sBAAMvE,UAAWC,IAAOsE,sBACxB,sBAAMvE,UAAWC,IAAOsE,sBACxB,sBAAMvE,UAAWC,IAAOsE,0BCAxBC,EAAkB,IAAIC,EAEPC,E,4MACnBlE,MAAQ,CACNmE,OAAQ,KACRC,MAAO,KACPC,OAAQ,OACRC,SAAS,G,EA2CXC,kBAAoB,WAClB,IAAMC,EAAWhG,SAASiG,gBAAgBC,aAAe,IACzDV,EACGW,iBACArB,MAAK,SAAAnB,GACJ,EAAKhC,UAAS,SAAAyE,GAAS,MAAK,CAC1BN,SAAUM,EAAUN,QACpBH,OAAO,GAAD,mBAAMS,EAAUT,QAAhB,YAA2BhC,QAEnChD,OAAOqF,SAAS,CACdK,IAAKL,EACLM,SAAU,cAGbC,QACC,EAAK5E,UAAS,SAAAyE,GAAS,MAAK,CAC1BN,SAAUM,EAAUN,c,wDAxD5B,SAAmBU,EAAWJ,GAAY,IAAD,OACnCI,EAAU/E,YAAcZ,KAAKP,MAAMmB,YACrCZ,KAAKc,SAAS,CAAEkE,OAAQ,UAAWC,SAAS,IAE5CN,EAAgBiB,MAAQ5F,KAAKP,MAAMmB,UACnC+D,EACGW,iBACArB,MAAK,SAAAnB,GACJ,GAAqB,IAAjBA,EAAM+C,OAiBR,OAhBAxE,IAAMC,QAAN,iCAC4B,EAAK7B,MAAMmB,UADvC,4BAEE,CACEW,SAAU,YACVC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,SAGd,EAAKf,SAAS,CACZiE,MAAM,0BAAD,OAA4B,EAAKtF,MAAMmB,UAAvC,4BACLqE,SAAS,EACTD,OAAQ,aAIV,EAAKlE,SAAS,CACZgE,OAAQhC,EACRkC,OAAQ,WACRC,SAAS,OAIda,OAAM,SAAAf,GACL,EAAKjE,SAAS,CAAEiE,QAAOC,OAAQ,mB,oBA0BvC,WACE,MAA2ChF,KAAKW,MAAxCmE,EAAR,EAAQA,OAAQE,EAAhB,EAAgBA,OAAQD,EAAxB,EAAwBA,MAAOE,EAA/B,EAA+BA,QAC/B,MAAe,SAAXD,EAEA,qBACEe,MAAO,CACLC,UAAW,SACXC,SAAU,QAHd,iDAWW,YAAXjB,GACFL,EAAgBuB,YAEd,qBACEH,MAAO,CACLC,UAAW,UAFf,SAKE,cAAC,EAAD,OAKS,aAAXhB,GACFL,EAAgBuB,YAEd,oBACEH,MAAO,CACLC,UAAW,UAFf,SAKGjB,KAKQ,aAAXC,EAEA,qCACE,oBAAI7E,UAAWC,IAAOyE,aAAtB,SACE,cAAC,EAAD,CACE/B,MAAOgC,EACPjC,UAAW7C,KAAKP,MAAMoD,UACtBJ,aAAczC,KAAKP,MAAMgD,iBAG5BwC,EACC,cAAC,EAAD,CAAQ3E,QAASN,KAAKkF,kBAAtB,uBAEA,cAAC,EAAD,YAbR,M,GA9GsCzE,aCyC3B0F,G,kNA3CbxF,MAAQ,CACNC,UAAW,GACXwF,cAAc,EACdC,SAAU,GACVC,SAAU,I,EAGZC,eAAiB,WACf,EAAKzF,UAAS,kBAAuB,CACnCsF,cADY,EAAGA,kB,EAKnBI,iBAAmB,SAAA5F,GACjB,EAAKE,SAAS,CAAEF,e,EAGlB6B,aAAe,SAACE,EAAKC,GACnB,EAAK9B,SAAS,CAAEuF,SAAU1D,EAAK2D,SAAU1D,K,4CAG3C,WACE,IAAQwD,EAAiBpG,KAAKW,MAAtByF,aACR,OACE,qCACE,cAAC,EAAD,CAAWhF,SAAUpB,KAAKwG,mBAC1B,cAAC,EAAD,CACE5F,UAAWZ,KAAKW,MAAMC,UACtBiC,UAAW7C,KAAKuG,eAChB9D,aAAczC,KAAKyC,eAGpB2D,GACC,cAAC,EAAD,CAAO1G,QAASM,KAAKuG,eAAgB9D,aAAczC,KAAKyC,aAAxD,SACE,qBAAKW,IAAKpD,KAAKW,MAAM0F,SAAUzD,IAAK5C,KAAKW,MAAM2F,aAGnD,cAAC,IAAD,CAAgBG,UAAW,a,GAtCjBhG,cCHlBiG,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFzH,SAAS0H,eAAe,W","file":"static/js/main.1658c16c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3O2PJ\",\"SearchForm\":\"Searchbar_SearchForm__2HQHf\",\"SearchForm__button\":\"Searchbar_SearchForm__button__3ATqJ\",\"SearchForm__button_label\":\"Searchbar_SearchForm__button_label__hg49r\",\"SearchForm__input\":\"Searchbar_SearchForm__input__3lMS_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader__ellips\":\"Loader_loader__ellips__2YFAA\",\"loader__ellips__dot\":\"Loader_loader__ellips__dot__2-U2K\",\"reveal\":\"Loader_reveal__fyCNx\",\"slide\":\"Loader_slide__290vm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Lightbox__backdrop\":\"Modal_Lightbox__backdrop__-aM18\",\"Lightbox__content\":\"Modal_Lightbox__content__uJQhD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__9Jb-3\",\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__lgcG3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3iFTF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__15aoq\"};","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\n\nimport styles from './Modal.module.css';\n\nconst lightboxRoot = document.querySelector('#lightbox-root');\n\nexport default class Lightbox extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div\n        className={styles.Lightbox__backdrop}\n        onClick={this.handleBackdropClick}\n      >\n        <div className={styles.Lightbox__content}>{this.props.children}</div>\n      </div>,\n      lightboxRoot,\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { toast } from 'react-toastify';\nimport styles from './Searchbar.module.css';\n\nexport default class Searchbar extends Component {\n  state = {\n    imageName: '',\n  };\n\n  handleNameChange = e => {\n    this.setState({ imageName: e.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    if (this.state.imageName.trim() === '') {\n      toast.warning(\n        'You have not entered anything in the search bar, please enter a search term',\n        {\n          position: 'top-center',\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n        },\n      );\n      return;\n    }\n    this.props.onSubmit(this.state.imageName);\n    this.setState({ imageName: '' });\n  };\n\n  render() {\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={styles.SearchForm__button}>\n            <span className={styles.SearchForm__button_label}>Search</span>\n          </button>\n\n          <input\n            className={styles.SearchForm__input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.imageName}\n            onChange={this.handleNameChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport styles from './ImageGalleryItem.module.css';\n\nexport default class ImageGalleryItem extends Component {\n  onImageClick = e => {\n    this.props.modalContent(e.target.dataset.url, e.target.alt);\n    this.props.openModal();\n  };\n\n  render() {\n    return (\n      <>\n        {this.props.image.map(({ webformatURL, tags, id, largeImageURL }) => {\n          return (\n            <li key={id} className={styles.ImageGalleryItem}>\n              <img\n                src={webformatURL}\n                alt={tags}\n                className={styles.ImageGalleryItem__image}\n                data-url={largeImageURL}\n                onClick={this.onImageClick}\n              />\n            </li>\n          );\n        })}\n      </>\n    );\n  }\n}\n","const API_KEY = '10446885-1251e891c865ea43d940edb73';\nconst BASE_URL = 'https://pixabay.com';\n\nexport default class ImageApiService {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n  }\n\n  fetchImagesApi() {\n    const searchParams = new URLSearchParams({\n      image_type: 'photo',\n      orientation: 'horizontal',\n      q: this.searchQuery,\n      page: this.page,\n      per_page: '12',\n      key: API_KEY,\n    });\n\n    const url = `${BASE_URL}/api/?${searchParams}`;\n\n    return fetch(url)\n      .then(response => response.json())\n      .then(data => {\n        this.page += 1;\n        return data.hits;\n      });\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n}\n","import React from 'react';\nimport styles from './Button.module.css';\n\nconst Button = ({ onClick, children }) => {\n  return (\n    <button type=\"button\" className={styles.Button} onClick={onClick}>\n      {children}\n    </button>\n  );\n};\n\nexport default Button;\n","import React from 'react';\nimport styles from './Loader.module.css';\n\nconst Loader = () => {\n  return (\n    <div className={styles.loader__ellips}>\n      <span className={styles.loader__ellips__dot}></span>\n      <span className={styles.loader__ellips__dot}></span>\n      <span className={styles.loader__ellips__dot}></span>\n      <span className={styles.loader__ellips__dot}></span>\n    </div>\n  );\n};\n\nexport default Loader;\n","import React, { Component } from 'react';\nimport { toast } from 'react-toastify';\n\nimport styles from './ImageGallery.module.css';\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport ImagesApiService from '../../services/apiService';\nimport Button from '../Button';\nimport Loader from '../Loader';\n\nconst imageApiService = new ImagesApiService();\n\nexport default class ImageGallery extends Component {\n  state = {\n    images: null,\n    error: null,\n    status: 'idle',\n    loading: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.imageName !== this.props.imageName) {\n      this.setState({ status: 'pending', loading: true });\n\n      imageApiService.query = this.props.imageName;\n      imageApiService\n        .fetchImagesApi()\n        .then(image => {\n          if (image.length === 0) {\n            toast.warning(\n              `Sorry for your request ${this.props.imageName}, no results were found.`,\n              {\n                position: 'top-right',\n                hideProgressBar: false,\n                closeOnClick: true,\n                pauseOnHover: true,\n                draggable: true,\n                progress: undefined,\n              },\n            );\n            this.setState({\n              error: `Sorry for your request ${this.props.imageName}, no results were found.`,\n              loading: true,\n              status: 'rejected',\n            });\n            return;\n          } else {\n            this.setState({\n              images: image,\n              status: 'resolved',\n              loading: true,\n            });\n          }\n        })\n        .catch(error => {\n          this.setState({ error, status: 'rejected' });\n        });\n    }\n  }\n\n  handleButtonClick = () => {\n    const scrollTo = document.documentElement.scrollHeight - 141;\n    imageApiService\n      .fetchImagesApi()\n      .then(image => {\n        this.setState(prevState => ({\n          loading: !prevState.loading,\n          images: [...prevState.images, ...image],\n        }));\n        window.scrollTo({\n          top: scrollTo,\n          behavior: 'smooth',\n        });\n      })\n      .finally(\n        this.setState(prevState => ({\n          loading: !prevState.loading,\n        })),\n      );\n  };\n\n  render() {\n    const { images, status, error, loading } = this.state;\n    if (status === 'idle') {\n      return (\n        <div\n          style={{\n            textAlign: 'center',\n            fontSize: '18px',\n          }}\n        >\n          Enter what picture you want to find\n        </div>\n      );\n    }\n\n    if (status === 'pending') {\n      imageApiService.resetPage();\n      return (\n        <div\n          style={{\n            textAlign: 'center',\n          }}\n        >\n          <Loader />\n        </div>\n      );\n    }\n\n    if (status === 'rejected') {\n      imageApiService.resetPage();\n      return (\n        <h2\n          style={{\n            textAlign: 'center',\n          }}\n        >\n          {error}\n        </h2>\n      );\n    }\n\n    if (status === 'resolved') {\n      return (\n        <>\n          <ul className={styles.ImageGallery}>\n            <ImageGalleryItem\n              image={images}\n              openModal={this.props.openModal}\n              modalContent={this.props.modalContent}\n            />\n          </ul>\n          {loading ? (\n            <Button onClick={this.handleButtonClick}>Load more</Button>\n          ) : (\n            <Loader />\n          )}\n        </>\n      );\n    }\n  }\n}\n","import React, { Component } from 'react';\n// import { v4 as uuidv4 } from \"uuid\";\nimport { ToastContainer } from 'react-toastify';\nimport Modal from './components/Modal';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport 'react-toastify/dist/ReactToastify.min.css';\n\nclass App extends Component {\n  state = {\n    imageName: '',\n    showLightbox: false,\n    modalUrl: '',\n    modalAlt: '',\n  };\n\n  toggleLightbox = () => {\n    this.setState(({ showLightbox }) => ({\n      showLightbox: !showLightbox,\n    }));\n  };\n\n  handleFormSubmit = imageName => {\n    this.setState({ imageName });\n  };\n\n  modalContent = (url, alt) => {\n    this.setState({ modalUrl: url, modalAlt: alt });\n  };\n\n  render() {\n    const { showLightbox } = this.state;\n    return (\n      <>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <ImageGallery\n          imageName={this.state.imageName}\n          openModal={this.toggleLightbox}\n          modalContent={this.modalContent}\n        />\n\n        {showLightbox && (\n          <Modal onClose={this.toggleLightbox} modalContent={this.modalContent}>\n            <img src={this.state.modalUrl} alt={this.state.modalAlt} />\n          </Modal>\n        )}\n        <ToastContainer autoClose={3000} />\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}